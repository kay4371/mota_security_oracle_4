<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Transport Page 2</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
    <link rel="stylesheet" href="https://rawcdn.githack.com/Loopple/loopple-public-assets/ad60f16c8a16d1dcad75e176c00d7f9e69320cd4/argon-dashboard/css/nucleo/css/nucleo.css">
    <link rel="stylesheet" href="./assets/css/theme.css">
    <link rel="stylesheet" href="./assets/css/loopple/loopple.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <style>
/* Style for the form container */
.form-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 20px;
}

/* Style for the form fields */
.form-group {
    margin-bottom: 20px;
}

/* Style for input fields */
.form-control {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
}

/* Style for select fields */
select {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
}

/* Style for submit button */
button[type="submit"] {
    background-color: #001275;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    width: 50%;
}

/* Style for "Back" button */
.btn-back {
    background-color: #5a0603;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    width: 50%;
}

/* Style for table container (if needed) */
.table-container {
    width: 100%;
    overflow-x: auto;
}

/* Entry table styles (if needed) */
.entry-table {
    border-collapse: collapse;
    width: 100%;
    border: 1px solid #ddd;
}

.entry-table th,
.entry-table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}

.entry-table th {
    background: linear-gradient(to bottom, #007bff, #011588); /* Blue and white gradient */
    color: white; /* Text color for the gradient background */
}

.entry-table tbody tr:hover {
    background-color: #f5f5f5;
}

        /* Style for the button container */
        .button-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        padding: 20px;
        }
/* Style for input fields */
input[type="text"],
input[type="datetime-local"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
}

/* Style for submit button */
button[type="submit"] {
    background-color: #001275;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    width: 100%;
}

/* Style for hr element */
hr.my-4 {
    border-color: #ddd;
    margin: 20px 0;
}

        /* Style for the "Back" button */
       /* Style for the "Back" button *
      /* Style for the "Submit and Preview" button */
.btn-submit {
  background-color: #001275;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  font-size: 16px;
  cursor: pointer;
  width: 50%; /* Set the same width as the "Back" button */
}

/* Style for the "Back" button */
.btn-back {
  background-color: #5a0603;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  font-size: 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  width: 50%; /* Set the same width as the "Submit and Preview" button */
}

        /* Your existing CSS styles */
        .table-container {
            width: 100%;
            overflow-x: auto;
        }
    
        /* Entry table styles */
        .entry-table {
            border-collapse: collapse;
            width: 100%;
            border: 1px solid #ddd;
        }
    
        .entry-table th,
        .entry-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
    
        .entry-table th {
            background: linear-gradient(to bottom, #007bff, #011588); /* Blue and white gradient */
            color: white; /* Text color for the gradient background */
        }
    
        .entry-table tbody tr:hover {
            background-color: #f5f5f5;
        }
  
/* Form container */

    /* Add styles for the loading container */
    .loading-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(255, 255, 255, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }
    
    /* Loading animation styles */
    .jumping-dots-loader {
        width: 100px;
        height: 100px;
        border-radius: 100%;
        position: relative;
        margin: 0 auto;
    }
    
    .jumping-dots-loader span {
        display: inline-block;
        width: 20px;
        height: 20px;
        border-radius: 100%;
        background-color: rgba(241, 83, 110, 0.8);
        margin: 35px 5px;
    }
    
    .jumping-dots-loader span:nth-child(1) {
        animation: bounce 1s ease-in-out infinite;
    }
    
    .jumping-dots-loader span:nth-child(2) {
        animation: bounce 1s ease-in-out 0.33s infinite;
    }
    
    .jumping-dots-loader span:nth-child(3) {
        animation: bounce 1s ease-in-out 0.66s infinite;
    }
    
    @keyframes bounce {
        0%, 75%, 100% {
            transform: translateY(0);
        }
    
        25% {
            transform: translateY(-20px);
        }
        
    }
 </style>  


</head>
<body class="g-sidenav-show">
    <nav class="sidenav navbar navbar-vertical fixed-left navbar-expand-xs navbar-light bg-white loopple-fixed-start" id="sidenav-main">
        <div class="sidenav-header  align-items-center">
            <a class="navbar-brand" href="javascript:void(0)">
                <img src="https://loopple.s3.eu-west-3.amazonaws.com/images/6hrcq113GeocFfxSvZ8Lcz38JIFfMfuafaW6l1s5.png" class="navbar-brand-img" alt="...">
            </a>
        </div>
        <div class="navbar-inner">
            <div class="collapse navbar-collapse" id="sidenav-collapse-main">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="javascript:">
                            <i class="fa fa-desktop text-primary"></i>
                            <span class="nav-link-text">Vistors New Entry</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:" id="receptionistPortalLink">
                            <i class="fa fa-lock text-danger"></i>
                            <span class="nav-link-text">HR Department</span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </nav>
    <div class="main-content" id="panel">
        <nav class="navbar navbar-top navbar-expand navbar-dark border-bottom bg-dark" id="navbarTop">
            <div class="container-fluid">
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <form class="navbar-search navbar-search-light form-inline mr-sm-3 mb-0" id="navbar-search-main">
                        <div class="form-group mb-0">
                            <div class="input-group input-group-alternative input-group-merge">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                </div>
                                <input class="form-control" placeholder="Search" type="text">
                            </div>
                        </div>
                        <button type="button" class="close" data-action="search-close" data-target="#navbar-search-main" aria-label="Close">
                            <span aria-hidden="true">Ã—</span>
                        </button>
                    </form>
                    <ul class="navbar-nav align-items-center  ml-md-auto ">
                        <li class="nav-item d-xl-none">
                            <div class="pr-3 sidenav-toggler sidenav-toggler-dark active" data-action="sidenav-pin" data-target="#sidenav-main">
                                <div class="sidenav-toggler-inner">
                                    <i class="sidenav-toggler-line"></i>
                                    <i class="sidenav-toggler-line"></i>
                                    <i class="sidenav-toggler-line"></i>
                                </div>
                            </div>
                        </li>
                        <li class="nav-item d-sm-none">
                            <a class="nav-link" href="#" data-action="search-show" data-target="#navbar-search-main">
                                <i class="ni ni-zoom-split-in"></i>
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fa fa-bell"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-xl  dropdown-menu-right  py-0 overflow-hidden">
                                <div class="px-3 py-3">
                                    <h6 class="text-sm text-muted m-0">You have <strong class="text-primary">13</strong> notifications.</h6>
                                </div>
                                <div class="list-group list-group-flush">
                                    <a href="#!" class="list-group-item list-group-item-action">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <img alt="Image placeholder" src="https://demos.creative-tim.com/argon-dashboard/assets-old/img/theme/team-1.jpg" class="avatar rounded-circle">
                                            </div>
                                            <div class="col ml--2">
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <div>
                                                        <h4 class="mb-0 text-sm">John Snow</h4>
                                                    </div>
                                                    <div class="text-right text-muted">
                                                        <small>2 hrs ago</small>
                                                    </div>
                                                </div>
                                                <p class="text-sm mb-0">Lets meet at Starbucks at 11:30. Wdyt?</p>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#!" class="list-group-item list-group-item-action">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <img alt="Image placeholder" src="https://demos.creative-tim.com/argon-dashboard/assets/img/theme/team-2.jpg" class="avatar rounded-circle">
                                            </div>
                                            <div class="col ml--2">
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <div>
                                                        <h4 class="mb-0 text-sm">John Snow</h4>
                                                    </div>
                                                    <div class="text-right text-muted">
                                                        <small>3 hrs ago</small>
                                                    </div>
                                                </div>
                                                <p class="text-sm mb-0">A new issue has been reported for Argon.</p>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#!" class="list-group-item list-group-item-action">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <img alt="Image placeholder" src="https://demos.creative-tim.com/argon-dashboard/assets-old/img/theme/team-3.jpg" class="avatar rounded-circle">
                                            </div>
                                            <div class="col ml--2">
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <div>
                                                        <h4 class="mb-0 text-sm">John Snow</h4>
                                                    </div>
                                                    <div class="text-right text-muted">
                                                        <small>5 hrs ago</small>
                                                    </div>
                                                </div>
                                                <p class="text-sm mb-0">Your posts have been liked a lot.</p>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#!" class="list-group-item list-group-item-action">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <img alt="Image placeholder" src="https://demos.creative-tim.com/argon-dashboard/assets/img/theme/team-4.jpg" class="avatar rounded-circle">
                                            </div>
                                            <div class="col ml--2">
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <div>
                                                        <h4 class="mb-0 text-sm">John Snow</h4>
                                                    </div>
                                                    <div class="text-right text-muted">
                                                        <small>2 hrs ago</small>
                                                    </div>
                                                </div>
                                                <p class="text-sm mb-0">Lets meet at Starbucks at 11:30. Wdyt?</p>
                                            </div>
                                        </div>
                                    </a>
                                    <a href="#!" class="list-group-item list-group-item-action">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <img alt="Image placeholder" src="https://demos.creative-tim.com/argon-dashboard/assets-old/img/theme/team-5.jpg" class="avatar rounded-circle">
                                            </div>
                                            <div class="col ml--2">
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <div>
                                                        <h4 class="mb-0 text-sm">John Snow</h4>
                                                    </div>
                                                    <div class="text-right text-muted">
                                                        <small>3 hrs ago</small>
                                                    </div>
                                                </div>
                                                <p class="text-sm mb-0">A new issue has been reported for Argon.</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                                <a href="#!" class="dropdown-item text-center text-primary font-weight-bold py-3">View all</a>
                            </div>
                        </li>
                  
                    </ul>
                    <ul class="navbar-nav align-items-center  ml-auto ml-md-0 ">
                        <li class="nav-item dropdown">
                            <a class="nav-link pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <div class="media align-items-center">
                                    <span class="avatar avatar-sm rounded-circle">
                                        <img alt="Image placeholder" src="https://demos.creative-tim.com/argon-dashboard/assets-old/img/theme/team-4.jpg">
                                    </span>
                                    <div class="media-body  ml-2  d-none d-lg-block">
                                        <span class="mb-0 text-sm  font-weight-bold">John Snow</span>
                                    </div>
                                </div>
                            </a>
                            <div class="dropdown-menu  dropdown-menu-right ">
                                <div class="dropdown-header noti-title">
                                    <h6 class="text-overflow m-0">Welcome!</h6>
                                </div>
                                <a href="#!" class="dropdown-item">
                                    <i class="fa fa-user"></i>
                                    <span>My profile</span>
                                </a>
                                <a href="#!" class="dropdown-item">
                                    <i class="fa fa-tools"></i>
                                    <span>Settings</span>
                                </a>
                                <a href="#!" class="dropdown-item">
                                    <i class="far fa-calendar"></i>
                                    <span>Activity</span>
                                </a>
                                <a href="#!" class="dropdown-item">
                                    <i class="fa fa-phone"></i>
                                    <span>Support</span>
                                </a>
                                <div class="dropdown-divider"></div>
                                <a href="#!" class="dropdown-item">
                                    <i class="fa fa-sign-out-alt"></i>
                                    <span>Logout</span>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container-fluid pt-3">
            <div class="row removable">
                <div class="col-xl-3 col-md-6" id="newEntriesTab">
                    <div class="card bg-gradient-primary border-0">
                        <!-- Card body -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0 text-white">New Enteries</h5>
                                    <span class="h2 font-weight-bold mb-0 text-white">8/24</span>
                                    <div class="progress progress-xs mt-3 mb-0">
                                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 30%;"></div>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <button type="button" class="btn btn-sm btn-neutral mr-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                 
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <a href="#!" class="text-nowrap text-white font-weight-600">See details</a>
                            </p>
                        </div>
                    </div>
                </div>


                <div class="col-xl-3 col-md-6">
                    <div class="card bg-gradient-info border-0">
                        <!-- Card body -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0 text-white">Auto Schedule</h5>
                                    <span class="h2 font-weight-bold mb-0 text-white">..</span>
                                    <div class="progress progress-xs mt-3 mb-0">
                                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 50%;"></div>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <button type="button" class="btn btn-sm btn-neutral mr-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <a href="#!" class="text-nowrap text-white font-weight-600">See details</a>
                            </p>
                        </div>
                    </div>
                </div>

              

                <div class="col-xl-3 col-md-6">
                    <div class="card bg-gradient-danger border-0">
                        <!-- Card body -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0 text-white">Nothing Here</h5>
                                    <span class="h2 font-weight-bold mb-0 text-white">200/300</span>
                                    <div class="progress progress-xs mt-3 mb-0">
                                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%;"></div>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <button type="button" class="btn btn-sm btn-neutral mr-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <a href="#!" class="text-nowrap text-white font-weight-600">See details</a>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-md-6">
                    <div class="card bg-gradient-default border-0">
                        <!-- Card body -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0 text-white">Notifications</h5>
                                    <span class="h2 font-weight-bold mb-0 text-white">50/62</span>
                                    <div class="progress progress-xs mt-3 mb-0">
                                        <div class="progress-bar bg-success" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="width: 90%;"></div>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <button type="button" class="btn btn-sm btn-neutral mr-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3 mb-0 text-sm">
                                <a href="#!" class="text-nowrap text-white font-weight-600">See details</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="jumping-dots-loader" id="loadingAnimation">
                <span></span> <span></span> <span></span>
            </div>

                <div class="card" id="profileForm">
                    <div class="table-container">
                        <table class="entry-table">
                            <thead>
                                <tr>
                                    <th>Driver's Name</th>
                                    <th>Armed Guard</th>
                                    <th>Expatriate(s)/Other Passenger</th>
                                    <th>Destination</th>
                                    <th>Time out</th>
                                    <th>Vehicle Number</th>
                                    <th>Pick-Up</th>
                                    <!-- <th>Pick-Up2</th> -->
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="entryTableBody">
                                <!-- Entries from the form will be dynamically added here -->
                            </tbody>
                        </table>
                    </div>
                    <!-- Other card content and form here -->
                
                <grammarly-extension data-grammarly-shadow-root="true" class="dnXmp" style="position: absolute; top: 0px; left: 0px; pointer-events: none;"></grammarly-extension>
                <grammarly-extension data-grammarly-shadow-root="true" class="dnXmp" style="position: absolute; top: 0px; left: 0px; pointer-events: none;"></grammarly-extension>
                <div class="card-header">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <!-- <h3 class="mb-0">New Visitor</h3> -->
                        </div>
                       
                    </div>

                </div>

                <div class="card-body">

                    <form action="/receive_driver_details" method="post">
                        <h6 class="heading-small text-muted mb-4">New Visitor Request</h6>
                        <div class="pl-lg-4">
                            <style>
                                #addVehicleButton {
                                    height: 38px; /* Set the same height as the dropdown */
                                    margin-top: 5px; /* Add margin at the top for spacing */
                                    background-color: green; /* Set button color to green */
                                    color: white; /* Set text color to white for better visibility */
                                    border: 1px solid #4CAF50; /* Add border */
                                    border-radius: 4px; /* Add border radius for rounded corners */
                                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Add a slight shadow effect */
                                    cursor: pointer; /* Change cursor on hover */
                                    padding: 0 10px; /* Add padding for better appearance */
                                }
                            </style>
                            
                            <style>
                                .form-group {
                                    display: flex;
                                    align-items: center;
                                    margin-bottom: 10px; /* Add margin at the bottom for spacing */
                                }
                
                                .form-group label {
                                    min-width: 150px; /* Set a minimum width for labels */
                                    margin-right: 10px;
                                }
                
                                .form-group select,
                                .form-group input {
                                    flex-grow: 1; /* Allow fields to take up remaining space */
                                }
                
                                #addDriverButton,
                                #addExpatriateButton {
                                    height: 38px;
                                    margin-top: 5px;
                                    background-color: green;
                                    color: white;
                                    border: 1px solid #4CAF50;
                                    border-radius: 4px;
                                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                                    cursor: pointer;
                                    padding: 0 10px;
                                }
                            </style>
                
                            <div class="form-group">
                                <label for="driver_name">Driver's Name:</label>
                                <select id="driver_name" name="driver_name" required>
                                    <option value="" selected disabled>Select a driver</option>
                                </select>
                                <!-- <button onclick="addNewDriver()">Add New Driver</button> -->
                                <button id="addDriverButton" onclick="addNewDriver()">New</button>
                            </div>
                

                            <div class="form-group">
                                <label for="armed_guard">Armed Guard:</label>
                                <select id="armed_guard" name="armed_guard" required>
                                    <option value="" selected disabled>Select number of armed guard</option>
                                    <option value="0">0</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select>
                            </div>
                
                            <div class="form-group">
                                <label for="passenger">Expatriate(s)/Other Passenger:</label>
                                <select id="expatriate" name="expatriate" required>
                                    <option value="" selected disabled>Select an expatriate</option>
                                    <!-- The options here should be dynamically populated from the server -->
                                </select>
                                <select id="additionalPassengers" name="additionalPassengers" required>
                                    <option value="0" selected>No others</option>
                                    <option value="1">and 1 other</option>
                                    <option value="2">and 2 others</option>
                                    <option value="3">and 3 others</option>
                                    <option value="4">and 4 others</option>
                                    <option value="5">and 5 others</option>
                                    <option value="6">and 6 others</option>
                                    <option value="7">and 7 others</option>
                                    <option value="8">and 8 others</option>
                                    <option value="9">and 9 others</option>
                                    <option value="10">and 10 others</option>
                                    <option value="11">and 11 others</option>
                                    <option value="12">and 12 others</option>
                                    <option value="13">and 13 others</option>
                                    <option value="14">and 14 others</option>
                                    <option value="15">and 15 others</option>
                                    <option value="16">and 16 others</option>
                                </select>
                                <button id="addExpatriateButton" onclick="addNewExpatriate()">New</button>
                            </div>
                
                            
                            <div class="form-group">
                                <label for="target_location">Destination:</label>
                                <input type="text" id="target_location" name="target_location" required>
                            </div>
                
                            <div class="form-group">
                                <label for="time_out">Time Out:</label>
                                <input type="datetime-local" id="time_out" name="time_out" required>
                            </div>
                
                            <div class="form-group">
                                <label for="vehicle_number">Vehicle Number:</label>
                                <select id="vehicle_number" name="vehicle_number" required onclick="refreshDropdown()"> 
                                  <!-- Options will be dynamically populated using JavaScript -->
                                </select>
                                <button id="addVehicleButton" onclick="addNewVehicle()">New</button>
                              </div>

                            <div class="form-group">
                                <label for="pick_up">Pick Up:</label>
                                <input type="text" id="pick_up" name="pick_up" required>
                            </div>

                            <hr class="my-4">
                            <!-- Address -->
                        </div>
                    </form>
                </div>
                

                <!-- <button id="submitButton" class="btn btn-primary">Submit and Preview</button> -->
                
                <div class="button-container">
                    <button id="backButton" class="btn btn-back">
                      <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button id="submitButton" class="btn btn-submit"> Preview and Submit </button>
                  </div>

            <div class="row removable">
                <div class="col-xl-8">

                </div>
                <div class="col-xl-4">

                </div>
            </div>
        </div>
   
     
    </div>
    <!-- <div class="loopple-alert loopple-alert-gradient-dark loopple-alert-dismissible loopple-fade loopple-position-fixed loopple-z-index-9999 loopple-bottom-2 loopple-mx-auto loopple-text-center loopple-right-0 loopple-left-0 loopple-w-50" role="alert"><strong>View and edit your project online</strong><a class="loopple-btn loopple-btn-white loopple-ml-2" href="https://www.loopple.com/builder/project-7TiSUEDkzjYMSdfSHABS3lugHnVzngQS5Nz" target="_blank">Editor</a><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span></button></div> -->
    <script src="https://rawcdn.githack.com/Loopple/loopple-public-assets/5cef8f62939eeb089fa26d4c53a49198de421e3d/argon-dashboard/js/vendor/jquery.min.js"></script>
    <script src="https://rawcdn.githack.com/Loopple/loopple-public-assets/5cef8f62939eeb089fa26d4c53a49198de421e3d/argon-dashboard/js/vendor/bootstrap.bundle.min.js"></script>
    <script src="https://rawcdn.githack.com/Loopple/loopple-public-assets/5cef8f62939eeb089fa26d4c53a49198de421e3d/argon-dashboard/js/vendor/js.cookie.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <script src="https://rawcdn.githack.com/Loopple/loopple-public-assets/5cef8f62939eeb089fa26d4c53a49198de421e3d/argon-dashboard/js/vendor/chart.extension.js"></script>
    <script src="https://rawcdn.githack.com/Loopple/loopple-public-assets/7bb803d2af2ab6d71d429b0cb459c24a4cd0fbb4/argon-dashboard/js/argon.min.js"></script>
   

    
<!--     
  <script>
        fetch('/receive_driver_parameters')
          .then(response => response.json())
          .then(data => {
              // Handle the response data here
              const selectElement = document.getElementById("driver_name");
      
              // Clear any existing options
              selectElement.innerHTML = '<option value="" selected disabled>Select a driver</option>';
      
              // Iterate through the driver details and add them to the select options
              data.forEach(driver => {
                  const option = document.createElement("option");
                  option.value = driver.driver_name;
                  option.textContent = driver.driver_name;
                  selectElement.appendChild(option);
              });
          })
          .catch(error => {
              console.error('An error occurred:', error);
              // Handle errors, e.g., display an error message
          });    
     </script>  -->

<script>
const backButton = document.getElementById('backButton');


// Event listener for the "Back" button
backButton.addEventListener('click', function () {
    // Redirect to the security_portal.html page
    window.location.href = 'receptionist.html';
});
</script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var receptionistLink = document.getElementById("receptionistPortalLink");
        
        receptionistLink.addEventListener("click", function(event) {
            event.preventDefault(); // Prevent the default behavior of the link
            
            // Redirect to the receptionist page
            window.location.href = "hr_portal.html";
        });
    });
    </script>
    
   
<script>
    // Function to handle the Security Portal link click
    function receptionist() {
        // Redirect to the security_portal page
        window.location.href = 'Receptionist.html';
    }

    // Get a reference to the link element
    const securityPortalLink = document.getElementById('securityPortalLink');

    // Attach the function to the click event of the link
    securityPortalLink.addEventListener('click', security_portal);
</script>

<script>
    const submitButton = document.getElementById('submitButton');
    const entryTableBody = document.getElementById('entryTableBody');
    const loadingAnimation = document.getElementById('loadingAnimation');
    const profileForm = document.getElementById('profileForm');

    loadingAnimation.style.display = 'none';
    // Initially hide the profile form
    profileForm.style.display = 'none';

    newEntriesTab.addEventListener('click', () => {
        loadingAnimation.style.display = 'block';
        profileForm.style.display = 'none';

        // Simulate a delay of 3 seconds for the loading animation
        setTimeout(() => {
            loadingAnimation.style.display = 'none';
            profileForm.style.display = 'block';
        }, 3000);
    });
</script>


<script>
// submitButton.addEventListener('click', async function (event) {
//     event.preventDefault(); // Prevent the form from submitting normally
//     const passengerDropdown = document.getElementById('expatriate');
//     const selectedPassenger = passengerDropdown.options[passengerDropdown.selectedIndex].text;

//     // Extract the name from the selectedPassenger string
//     const expatriateName = selectedPassenger.split(' and ')[0];
//     // Get form values
//     const nameofdriver = document.getElementById('driver_name').value;
//     const armed_guard = document.getElementById('armed_guard').value;
//     // const passenger = document.getElementById('passenger').value;
    
//     const passenger = document.getElementById('expatriate').value;
//     const additionalPassengers = document.getElementById('additionalPassengers').value;
//     const destination = document.getElementById('target_location').value;
//     const Timeout = document.getElementById('time_out').value;
//     const vehicleNumber = document.getElementById('vehicle_number').value;
//     const pick_up= document.getElementById('pick_up').value;
//     // Create new table row
//     newRow = document.createElement('tr');
//     newRow.innerHTML = `
//     <td>${nameofdriver}</td>
//     <td>${armed_guard}</td>
//     <td>${passenger} and ${additionalPassengers}</td>
//     <td>${destination}</td>
//     <td>${Timeout}</td>
//     <td>${vehicleNumber}</td>
//     <td>${pick_up}</td>
//     <td>${additionalPassengers}</td> <!-- Add this line for the new field -->
//     <td>
//         <button class="btn btn-sm btn-success save-success">Save</button>
//         <button class="btn btn-sm btn-danger cancel">Cancel</button>
//     </td>
// `;


//     // Append new row to table body
//     entryTableBody.appendChild(newRow);
   
//     // Clear form inputs
//     document.getElementById('additionalPassengers').value = '';
//     document.getElementById('driver_name').value = '';
//     document.getElementById('armed_guard').value = '';
//     document.getElementById('passenger').value = '';
//     document.getElementById('target_location').value = '';
//     document.getElementById('time_out').value = '';
//     document.getElementById('vehicle_number').value = '';
//     document.getElementById('pick_up').value = '';
//     // Add event listener to "Cancel" button in the newly added row
//     newRow.querySelector('.cancel').addEventListener('click', function () {
//         entryTableBody.removeChild(newRow);
//     });

//     // Add event listener to "Save" button in the newly added row
//     newRow.querySelector('.save-success').addEventListener('click', async function () {
// // Add event listener to "Save" button in the newly added row

//     const driver_name = newRow.querySelector('td:nth-child(1)').textContent;
//     const armed_guard = newRow.querySelector('td:nth-child(2)').textContent;
//     const passenger = newRow.querySelector('td:nth-child(3)').textContent;
//     const target_location = newRow.querySelector('td:nth-child(4)').textContent;
//     const time_out = newRow.querySelector('td:nth-child(5)').textContent;
//     const vehicle_number = newRow.querySelector('td:nth-child(6)').textContent;
//     const pick_up = newRow.querySelector('td:nth-child(7)').textContent;
//     const additionalPassengers = newRow.querySelector('td:nth-child(8)').textContent; // Adjust index for the new field

//     // Send data to the backend for saving to MongoDB
//     try {
//         const response = await fetch('/receive_driver_details', {
//             method: 'POST',
//             headers: {
//                 'Content-Type': 'application/json',
//             },
//             body: JSON.stringify({
//                 driver_name,
//                 armed_guard,
//                 target_location,
//                 passenger,
//                 time_out,
//                 vehicle_number,
//                 pick_up,
//                 additionalPassengers,
//             }),
//         });

//   if (response.ok) {
//     alert('Movement Details Sent to Securiy Unit.');
//   } else {
//     console.error('Failed to save data to MongoDB.');
//   }
// } catch (error) {
//   console.error('An error occurred:', error);
// }
// });
// });   



document.addEventListener('DOMContentLoaded', function () {
    // Assuming you have a 'submitButton' element
    const submitButton = document.getElementById('submitButton');

    submitButton.addEventListener('click', async function (event) {
        event.preventDefault(); // Prevent the form from submitting normally

//         const passengerDropdown = document.getElementById('expatriate');
//     const selectedPassengerOption = passengerDropdown.options[passengerDropdown.selectedIndex];

//     // Extract the name and value from the selected option
//     const expatriateName = selectedPassengerOption.text.split(' ').slice(0, -2).join(' '); // Keep only the first and last names
//     const expatriateValue = selectedPassengerOption.value;
//  // Get form values



    const passengerDropdown = document.getElementById('expatriate');
    const selectedPassengerOption = passengerDropdown.options[passengerDropdown.selectedIndex];

    // Extract the name and value from the selected option, excluding unit and security value
    const expatriateName = selectedPassengerOption.text.split(' ').slice(0, -2).join(' '); // Keep only the first and last names
    const expatriateValue = selectedPassengerOption.value;

 // Get form values
    const nameofdriver = document.getElementById('driver_name').value;
    const armed_guard = document.getElementById('armed_guard').value;
    const additionalPassengers = document.getElementById('additionalPassengers').value;
    const destination = document.getElementById('target_location').value;
    const Timeout = document.getElementById('time_out').value;


    // Corrected: Extract brand and plate number from the selected option
    const vehicleNumberSelect = document.getElementById('vehicle_number');
    const selectedVehicleOption = vehicleNumberSelect.options[vehicleNumberSelect.selectedIndex];



    if (selectedVehicleOption) {
    const vehicleNumber = selectedVehicleOption.text; // Assuming brand and plate number are separated by a space
    // Your existing code...


// const vehicleNumber = document.getElementById('vehicle_number').value;
        const pick_up = document.getElementById('pick_up').value;

        // Create new table row
           // Create new table row
  // Create new table row
  const newRow = document.createElement('tr');
    newRow.innerHTML = `
        <td>${nameofdriver}</td>
        <td>${armed_guard}</td>
        <td>${expatriateName} ${additionalPassengers === '0' ? '' : 'and ' + additionalPassengers + ' other(s)'}</td>
        <td>${destination}</td>
        <td>${Timeout}</td>
        <td>${vehicleNumber }</td>
        <td>${pick_up}</td>
        
        <td>
            <button class="btn btn-sm btn-success save-success">Save</button>
            <button class="btn btn-sm btn-danger cancel">Cancel</button>
        </td>
    `;

        // Append new row to table body
        const entryTableBody = document.getElementById('entryTableBody');
        entryTableBody.appendChild(newRow);
        
        // Clear form inputs
        document.getElementById('additionalPassengers').value = '';
        document.getElementById('driver_name').value = '';
        document.getElementById('armed_guard').value = '';
        // document.getElementById('passenger').value = '';
        document.getElementById('target_location').value = '';
        document.getElementById('time_out').value = '';
        document.getElementById('vehicle_number').value = '';
        document.getElementById('pick_up').value = '';
        // alert("Before adding event listeners");
        // Add event listener to "Cancel" button in the newly added row
        newRow.querySelector('.cancel').addEventListener('click', function () {
            entryTableBody.removeChild(newRow);
            console.log("removed")
        });

        // Add event listener to "Save" button in the newly added row
        newRow.querySelector('.save-success').addEventListener('click', async function () {
           
            // Add event listener to "Save" button in the newly added row
          
            const driver_name = newRow.querySelector('td:nth-child(1)').textContent;
            const armed_guard = newRow.querySelector('td:nth-child(2)').textContent;
            const passenger = newRow.querySelector('td:nth-child(3)').textContent;
            const target_location = newRow.querySelector('td:nth-child(4)').textContent;
            const time_out = newRow.querySelector('td:nth-child(5)').textContent;
            const vehicle_number = newRow.querySelector('td:nth-child(6)').textContent;
            const pick_up = newRow.querySelector('td:nth-child(7)').textContent;
            const additionalPassengers = newRow.querySelector('td:nth-child(8)').textContent; // Adjust index for the new field

            
            // Send data to the backend for saving to MongoDB
            try {
                const response = await fetch('/receive_driver_details', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        driver_name,
                        armed_guard,
                        target_location,
                        passenger,
                        time_out,
                        vehicle_number,
                        pick_up,
                        additionalPassengers,
                    }),
                });

                if (response.ok) {
                    alert('Movement Details Sent to Security Unit.');
                } else {
                    console.error('Failed to save data to MongoDB.');
                }
            } catch (error) {
                console.error('An error occurred:', error);
            }
        });
    } else {
    console.error('Selected vehicle option is undefined.');
} 
    });
});
</script>


<script>
  async function addNewDriver() {
    const driver_name = prompt('Enter the name of the new driver:');
    const driverPhone = prompt('Enter the phone number of the new driver:');
    const pAssignee = prompt('Enter who the new driver is assigned to:');
    const driversAddress = prompt('Enter the house address of the new driver:');
    const sourceCompany = prompt('Enter the source company of the new driver:');
    const dateofemployment = prompt('Enter the date of employment of the new driver:');

    if (driver_name && driverPhone && pAssignee && driversAddress && sourceCompany && dateofemployment) {
      try {
        const response = await fetch('/add_new_driver', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            driver_name,
            driverPhone,
            pAssignee,
            driversAddress,
            sourceCompany,
            dateofemployment,
        
          }),
        });

        const result = await response.json();

        if (result.success) {
          alert('New driver added successfully.');
          // Implement logic to update the driver dropdown on the frontend
        } else {
          alert('Failed to add new driver. Please try again.');
        }
      } catch (error) {
        console.error('Error adding new driver:', error);
        alert('An error occurred while adding a new driver.');
      }
    } else {
      alert('Invalid input. All fields are required.');
    }
  }
</script> 

<script>
    function addNewExpatriate() {
      const name = prompt('Enter the name of the new expatriate:');
      const country_of_origin = prompt('Enter the country of origin of the new expatriate:');
      const phone_number = prompt('Enter the phone number of the new expatriate:');
      const house_address = prompt('Enter the house address of the new expatriate:');
      const unit = prompt('Enter the unit of the new expatriate:');
    
      if (name && country_of_origin && phone_number && house_address && unit) {
        // Implement logic to send a request to the server to add a new expatriate
        const expatriateData = {
          name: name,
          country_of_origin: country_of_origin,
          phone_number: phone_number,
          house_address: house_address,
          unit: unit,
        };
    
        fetch('/add_new_expatriate', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(expatriateData),
        })
          .then(response => {
            if (response.ok) {
            //   return response.json();
            alert("Driver Added To Database")
            } else {
              throw new Error('Failed to add new expatriate');
            }
          })
          .then(data => {
            alert(data.message);
          })
          .catch(error => {
            console.error(error);
            alert('An error occurred while adding new expatriate details');
          });
      } else {
        alert('Invalid input. All fields are required.');
      }
    }
    </script>
    

<!-- <script>
document.addEventListener('DOMContentLoaded', async function () {
  const expatriateDropdown = document.getElementById('expatriate');

  try {
    const response = await fetch('/get_expatriate_names');
    const expatriates = await response.json();

    expatriates.forEach(expatriate => {
      const option = document.createElement('option');
      option.value = expatriate._id;
      option.text = `${expatriate.name} - Unit: ${expatriate.unit} - Phone: ${expatriate.phoneNumber}`;
      expatriateDropdown.appendChild(option);
    });
  } catch (error) {
    console.error(error);
    // Handle error fetching expatriate names
  }
});
</script> -->

<!-- <script>
    document.addEventListener('DOMContentLoaded', async function () {
      // Fetch expatriates' data and populate the dropdown
      try {
        const response = await fetch('/get_expatriate_names');
        const expatriates = await response.json();
  
        const expatriateDropdown = document.getElementById('expatriate');
  
        expatriates.forEach(expatriate => {
          const option = document.createElement('option');
          option.value = expatriate._id;
          option.text = `${expatriate.name} - Unit: ${expatriate.unit} - Phone: ${expatriate.phoneNumber}`;
          expatriateDropdown.appendChild(option);
        });
      } catch (error) {
        console.error('Error fetching expatriate names:', error);
        // Handle error fetching expatriate names
      }
  
      // Now, fetch driver parameters and populate the driver dropdown
      try {
        const response = await fetch('/receive_driver_parameters');
        const drivers = await response.json();
  
        const selectElement = document.getElementById('driver_name');
  
        // Clear any existing options
        selectElement.innerHTML = '<option value="" selected disabled>Select a driver</option>';
  
        // Iterate through the driver details and add them to the select options
        drivers.forEach(driver => {
          const option = document.createElement('option');
          option.value = driver.driver_name;
          option.textContent = driver.driver_name;
          selectElement.appendChild(option);
        });
      } catch (error) {
        console.error('Error fetching driver parameters:', error);
        // Handle error fetching driver parameters
      }
    });
  </script> -->
  


<script>
  document.addEventListener('DOMContentLoaded', async function () {
    // Fetch and populate expatriates dropdown
    try {
      const responseExpatriates = await fetch('/get_expatriate_names');
      const expatriates = await responseExpatriates.json();

      const expatriateDropdown = document.getElementById('expatriate');

      expatriates.forEach(expatriate => {
        const option = document.createElement('option');
        option.value = expatriate._id;
        option.text = `${expatriate.name} - Unit: ${expatriate.unit} - Phone: ${expatriate.phoneNumber}`;
        expatriateDropdown.appendChild(option);
      });
    } catch (error) {
      console.error('Error fetching expatriate names:', error);
      // Handle error fetching expatriate names
    }

    // Fetch and populate driver dropdown
    try {
      const responseDrivers = await fetch('/receive_driver_parameters');
      const drivers = await responseDrivers.json();

      const selectElement = document.getElementById('driver_name');

      // Clear any existing options
      selectElement.innerHTML = '<option value="" selected disabled>Select a driver</option>';

      // Iterate through the driver details and add them to the select options
      drivers.forEach(driver => {
        const option = document.createElement('option');
        option.value = driver.driver_name;
        option.textContent = driver.driver_name;
        selectElement.appendChild(option);
      });
    } catch (error) {
      console.error('Error fetching driver parameters:', error);
      // Handle error fetching driver parameters
    }

    // Call the refreshDropdown function to fetch and update the vehicle numbers dropdown
    await refreshDropdown();
  });

  // Function to fetch and update the dropdown with vehicle numbers
  async function refreshDropdown() {
    try {
      const vehicleNumbersSelect = document.getElementById('vehicle_number');

      // Save the currently selected value
      const selectedValue = vehicleNumbersSelect.value;

      const response = await fetch('/get_vehicle_numbers');
      const data = await response.json();

      if (data.success) {
        // Clear existing options
        vehicleNumbersSelect.innerHTML = '';

        // Add default option
        const defaultOption = document.createElement('option');
        defaultOption.text = 'Select Vehicle Number';
        vehicleNumbersSelect.add(defaultOption);

        // Populate dropdown with vehicle numbers
        data.vehicleNumbers.forEach((vehicle) => {
          const option = document.createElement('option');
          option.value = vehicle.plate_number;
          option.text = `${vehicle.vehicle_brand} - ${vehicle.plate_number}`;
          vehicleNumbersSelect.add(option);
        });

        // Set the previously selected value back
        vehicleNumbersSelect.value = selectedValue;
      } else {
        console.error('Failed to retrieve vehicle plate numbers');
      }
    } catch (error) {
      console.error('An error occurred while fetching vehicle plate numbers:', error);
    }
  }
</script>



<script>
    async function addNewVehicle() {
      const plate_number = prompt('Enter the plate number of the new vehicle:');
      const vehicle_brand = prompt('Enter the type of the brand of the vehicle (e.g Geely or Hilux):');
      const vehicle_type = prompt('Enter the type of the new vehicle (salon, SUV, or bus):');
  
      if (plate_number && vehicle_type) {
        try {
          const response = await fetch('/add_new_vehicle', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              plate_number,
              vehicle_brand,
              vehicle_type,
            }),
          });
  
          const result = await response.json();
  
          if (result.success) {
            alert('New vehicle added successfully.');
          } else {
            alert('Failed to add new vehicle. Please try again.');
          }
        } catch (error) {
          console.error('Error adding new vehicle:', error);
          alert('An error occurred while adding a new vehicle.');
        }
      } else {
        alert('Invalid input. Plate number and vehicle type are required.');
      }
    }
   </script>

   <!-- <script>
    // Function to fetch and update the dropdown with vehicle numbers
    async function refreshDropdown() {
      try {
        const vehicleNumbersSelect = document.getElementById('vehicle_number');
  
        // Save the currently selected value
        const selectedValue = vehicleNumbersSelect.value;
  
        const response = await fetch('/get_vehicle_numbers');
        const data = await response.json();
  
        if (data.success) {
          // Clear existing options
          vehicleNumbersSelect.innerHTML = '';
  
          // Add default option
          const defaultOption = document.createElement('option');
          defaultOption.text = 'Select Vehicle Number';
          vehicleNumbersSelect.add(defaultOption);
  
          // Populate dropdown with vehicle numbers
          data.vehicleNumbers.forEach((vehicle) => {
            const option = document.createElement('option');
            option.value = vehicle.plate_number;
            option.text = `${vehicle.vehicle_brand} - ${vehicle.plate_number}`;
            vehicleNumbersSelect.add(option);
          });
  
          // Set the previously selected value back
          vehicleNumbersSelect.value = selectedValue;
        } else {
          console.error('Failed to retrieve vehicle plate numbers');
        }
      } catch (error) {
        console.error('An error occurred while fetching vehicle plate numbers:', error);
      }
    }
  </script>
   -->